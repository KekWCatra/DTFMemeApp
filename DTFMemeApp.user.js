// ==UserScript==
// @name        DTF MemeApp
// @match       https://dtf.ru/*
// @version     0.1  (2021-04-20)
// @license     MIT
// @author      KekW - https://dtf.ru/u/182912-kekw
// @description Шитпостинг еще небыл настолько крут.
// @icon        https://github.com/KekWCatra/DTFMemeApp/raw/main/icon.jpg
// @icon64      https://github.com/KekWCatra/DTFMemeApp/raw/main/icon.jpg
// @run-at      document-end
// ==/UserScript==

let cssPasta = `#memeList > img {width: 24%;padding: 2px;} #memeList > img:hover {cursor: pointer;} .listStyleSex ol { counter-reset: item; list-style-type: none; } .listStyleSex ol li { display: block; } .listStyleSex ol li:before { content: counter(item)"."; counter-increment: item; } .listStyleSex ol li:before{ position: absolute; margin-left: -70px; font: bold italic 45px/1.5 Helvetica, Verdana, sans-serif; color: #ccc; } .listStyleSex ol li{ font: 18px Open Sans, sans-serif; line-height:32px; color: #000; position: relative; text-indent: 0 !important; padding: 10px 10px 10px 20px; list-style-position: outside; margin-left: 20px; } .listStyleSex ol li:hover {cursor: pointer;background: #2e3131;} .listStyleSex li p{ font: 14px Open Sans, sans-serif; line-height:20px; color: #555; width: 1050px; min-width: 1050px; max-width: 1050px; overflow: hidden; text-overflow: ellipsis; resize: both; max-height: 400px; } .listStyleSex ol{ max-width:1100px; text-align:justify; } .listStyleSex ol { margin-left: 20px; }`;
let head = document.head || document.getElementsByTagName('head')[0];
let body = document.body || document.getElementsByTagName('body')[0];

let DocStyle = document.createElement('style');

let colorText = '#fff';
cssPasta += `.popup__container__window--styled .popup__container__window__tpl {background: #1C1C1C;}`;
cssPasta += '.listStyleSex ol li {color: ' + colorText + ';} .listStyleSex ol li p {color: ' + colorText + ';}';

head.appendChild(DocStyle);
DocStyle.type = 'text/css';
if (DocStyle.styleSheet) {
    DocStyle.styleSheet.cssText = cssPasta;
} else {
    DocStyle.appendChild(document.createTextNode(cssPasta));
}



let popupListOfPasta = `
<div class="popup" id="_kekw_popup_pasta">
	<div class="popup__layout popup__layout--shown"></div>
	<div class="popup__container popup__container--shown">
		<div class="popup__container__window popup__container__window--styled" style="width: 1280px!important;">
			<div class="popup__container__window__close" id="_kekw_close_dtf_popup_pasta">
				<svg class="icon icon--ui_close" width="12" height="12">
					<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#ui_close"></use>
				</svg>
			</div>
			<div class="popup__container__window__tpl" style="overflow: auto;">
				<div class="popup__content">
					<h4 style="color:#fff;display: inline-block;text-decoration: underline;cursor:pointer;" id="showPasta">Пасты</h4><h4 style="color:#fff;display: inline-block;">&nbsp;&nbsp;|&nbsp;&nbsp;</h4><h4 style="cursor:pointer;color:#fff;display: inline-block;text-decoration: underline;" id="showMeme">Мемы</h4>
                    <div style="float: right;display: inline-block;margin-left: 20px;width: 550px;"><input type="text" autocomplete="off" id="searchPasta" maxlength="250" style="height: 28px;padding: 3px 16px;font-size: 13px;line-height: 1.5384616;background-color: transparent;background-image: none;border: 1px solid #ddd;transition: border-color ease-in-out .15s,box-shadow ease-in-out .15s;padding-left: 0;padding-right: 0;border-width: 1px 0;border-color: transparent;border-bottom-color: #ddd;border-radius: 0;box-shadow: none;max-width: 550px;width: 100%;color: #fff;outline: 0;"></div>
                    <div class="listStyleSex" id="pastaOlList">
                        <ol>
                            <li class="thisIsPastaSon">Че началось то…<p>Отец работает в ФСБ. Сегодня срочно вызвали на совещание. Вернулся поздно и ничего не объяснил. Сказал лишь собирать вещи и бежать в магазин за продуктами на две недели. Сейчас едем куда-то далеко за город. Не знаю что происходит, но мне кажется началось...</p></li>
                            <li class="thisIsPastaSon">Путеводный маяк [ Дмитрий Титов ]<p>Есть в мире всякие разные сюжетно ориентированные линейные игры. Выходят они себе, выходят, выходят. Но потом в один чудесный день в данном виде игр выходит новый проект Naughty Dog, их Игра по уровню качества зажигает новую галактику игровых стандартов, путеводную направляющую для других студий, которые плавно год за годом двигаются в новом направлении, как корабли на свет нового маяка.</p></li>
                            <li class="thisIsPastaSon">Забыл что хотел сказать<p>Что касается этого поста попытаюсь высказать свою сугубо личное мнение, не желая обидеть никого, и все же, рассматривая с другой точки зрения, не опротестовывая ничью позицию, стараясь быть объективным, принимая во внимание все без исключения аргументы участников обсуждения, я забыл, что хотел написать.</p></li>
                            <li class="thisIsPastaSon">Ваша картинка и комментарий [ Никита Богуславский ]<p>Ваша картинка и комментарий задевают мою культурную идентичность и пропагандируют аппроприацию но национальному признаку. Не надо так, пожалуйста. Я понимаю, что это может быть смешно, но по факту можно найти много других аналогий для ситуации КРОМЕ тех, которые опираются на несправедливую пропаганду вековой давности и травлю целого народа.</p></li>
                            <li class="thisIsPastaSon">Извинение [ StupidMoronGuy ]<p>Пользуясь случаем, хотел извиниться за резковатый выпад в твою сторону в прошлый раз. Наговорил лишнего. Мне надо было быть более сдержанным и следить за языком.</p></li>
                            <li class="thisIsPastaSon">Без стыков [ Олег Чимде ]<p>Идеально цельное произведение, работающее по законам видеоигр и кино одновременно. Без стыков. Без провисаний. Без заваливания в ту или другую сторону. Баланс. Джоэл есть движение. Движение сквозь поломанные изменчивым миром судьбы совершенно незнакомых ни ему, ни вам людей.<br><br>Их призраки возникают из ниоткуда и уплывают в никуда. И, как оказывается, призраков здесь куда больше, чем мы думали. Человечество завершает свой путь, а природа, пользуясь случаем, берет свое. Ей-то совершенно все равно, кем вы были раньше и кто вы есть сейчас.</p></li>
                            <li class="thisIsPastaSon">Последний пост [ Дмитрий Титов ]<p>Скажем так - чужие мысли вы читать не умеете от слова совершенно. "Чужая душа - потёмки." Но агитационные провокации умеют строчить многие на этом сайте. Это чуть ли не отдельный новый жанр комментариев, один из самых популярных кстати, что печально. Извратить чужие мысли или слова, жестоко это высмеять и агитировать ненавидеть это всех окружающих - возможно самое "доходное" занятие в комментариях для этих людей. Этот безумный обскурантизм мне отвратителен. А раз тут всё настолько запущено, это мой последний комментарий на DTF. Пожалуйста, все, кто хочет потоксичить и позлорадствовать, наставьте тут моим комментариям максимальное количество минусов, выплесните всю вашу внутреннюю желчь и зло напоследок. Всем добра.</p></li>
                            <li class="thisIsPastaSon">Разъёб без шанса на реабилитацию [ Вторая личность Дмитрия Титова ]<p>Какой ты нежный оказался. Писал мне тонны токсичных провокаций, набрасывал, подстрекал окружающих, а тут порвался с одного предупреждения. Разок предупреди его (спокойно, по человечески) - орёт как сумасшедший, а набрасывая говно на вентилятор и постоянно токсича активность другого человека, думает что всё так и должно быть. Вообще как раз, решив собирать сегодня утром всякие однотипные односторонние скрины с повторяющимися доёбами, думал стоит ли оно того, но твоё поведение говорит за тебя. Если ты думаешь, что эфимерные плюсики от жаждущей крови/зрелищ/шоу толпы от поста тут в драме тебя спасают, то нет, с чего вдруг это что-то меняет - это твоё поведение. Я прекрасно понимаю что ты делаешь, прекрасно знаю какая тут будет реакция, что будут лететь минусики, плюсики, говнометания, переворачивания смысла написанного и вся херня в таком духе. :) Факт в том, что я не набрасываю не агитирую окружающих кого-то ненавидеть, не развожу подстрекательскую деятельность. Но думать, что я буду сидеть сложа ручки тоже странно.</p></li>
                            <li class="thisIsPastaSon">Угроза [ Вторая личность Дмитрия Титова ]<p>Здарова, чел. Начинаю коллекционирование твоих доёбов, чувак :) Пройдусь ещё постарым комменатам, может ты новых поводов накидаешь ещё. Занимательно в общем.)<br><br>По прямому определению ты уже являешься моим токсичным сталкером. Сталкер - тот,от кого исходит это говно - в отличие от тебя, я твою активность не комменчу, а ты ужегде-то раз 9-й-15-й набрасываешь говно на вентилятор в разных моих постах с обоих(хорошо известных всем, включая редакцию и саппорт ресурса, если что) акков.<br><br>О, и поверь, чел, мне хватает мозгов 1. Отличить безобидные шутки от набросов/провокации/подстрекательства/токсичной соц.агитации; 2. Когда угодно и кому угодноэто полноценно доказать;<br><br>Чувак, на случай если вдруг тебе грустно что тебя так воспринимают (в чём ясомневаюсь), это повод только задуматься о своём поведении, а не переводитьстрелочки. Я на данный момент без понятия что ты за человек, но твои совершенноявные многочисленные однотипные токсичные набросы дают мне уже прямо сейчасдостаточную почву для доказательных суждений<br><br>Мне бы правда не хотелось с тобой ничего делать, кому-то писать, чтобы тебя забанили и вот это вот всё. Я вообще привык относиться к людям по доброму. Но учти я вовсе несобираюсь вот просто сидеть дальше и пропускать твой токсикоз в дальнейшем. Так что всё зависит только от тебя.<br><br>Если придется, всё твоё говно полетит в тебя с разрушительной силой. Мне бы этого нехотелось.</p></li>
                            <li class="thisIsPastaSon">Банда Лемура [ Илья Шишкунов ]<p>Толпа токсичных троллей, которым всё равно на контекст спора, сидят в Телеге - постят туда скрины комментариев и ссылки на посты, чтобы влетать в тред вместе, рофлить, ставить стрелочки и троллировать.<br><br>Бандой Лемура их называю только я, т.к. по сути это Лемур, который просто объективно зелёный, ну и парочка его подсосов (от 2 до 5 человек), с которыми он общается.<br><br>Ничего страшного, просто вниманиебляди, рекомендую их игнорировать.</p></li>
                            <li class="thisIsPastaSon">Идите нафиг [ Олег Чидме ]<p>Знаете что, ребята. Я вот сейчас это пишу, не согласовав ни с кем из начальства или коллег. Идите вы нафиг. Вот все, кто ниже (или выше, зависит от рейтинга, но я и не надеюсь) хуесосят незнакомого человека, который делает им быстрый и качественный контент, и делает это профессионально.<br><br>Вот что я хочу вам сказать. Нафиг идите. Шериф, забань меня, пожалуйста, на 3 дня, как полагается, я хотя бы передохну от этого ебучего болота. Но не удаляй это сообщение, как минимум, пока не попросят.<br><br>Я не согласен с Вадимом в случае с этим постом. Старым постом, я хочу отметить. Я практически не веду соцсети, но я не мёртвый человек. Полагаю, Вадим с этим согласен. Мнения могут меняться со временем. Также они могут меняться, когда знакомишься с людьми, которые доказывают тебе, что мнение может быть иное. Ну и, наконец, мнения могут быть такими, как ты в то время думал — все мы так делаем.<br><br>Я тоже бомбил с этого поста, пока не познакомился и не сработался с Вадимом. Я узнал его как человека и как коллегу. Также я привык вступаться за людей, которые мне дороги. Поэтому все, кто сейчас высказывается негативно в комментариях, троллят и злорадствуют — идите вы нафиг. Если вы считаете, что можете судить о человеке по нескольким спорным постам в соцсетках.<br><br>Хочу вам сказать. Нет, я не бомблю, и нет, я не собираюсь вас в чём-то убеждать. Я пишу это абсолютно холодно. Просто нафиг идите, пожалуйста.<br><br>Вот это шоу, да?</p></li>
                            <li class="thisIsPastaSon">ВШЭ [ Уджин Крейн ]<p>Ваша умственно отсталая свора мне напоминает бабок возле подъезда выдумавших историю, затем введу старческого маразма они забыли, что выдумали её и теперь спустя время, они в неё просто верят, и с каждым новым пересказом облагораживают новыми подробностями. Вы такой адовый бред пишите, до блевотины просто. Начните жить своей полной жизнью, а не выдумывать байки и пересказывать сплетни, когда вас спрашивают пользователи.</p></li>
                            <li class="thisIsPastaSon">Токсики кругом [ Дмитрий Титов ]<p>Как человек, постоянно мониторящий 24 профильные площадки (по большей части русскоязычные) и автор, присутствующий на 4х (под разными никами), могу уже с полнейшей уверенностью сказать, что на DTF самая токсичная атмосфера в комментариях из из всех мне известных ресурсов. 🤮😉</p></li>
                            <li class="thisIsPastaSon">Чел без вкуса [ Kilyare Asure ]<p>Каждое сообщение которое тебе пишут вместо того чтобы сразу закидывать в игнор это лишняя трата нервных клеток в пустоту. Ты чел без вкуса, аргументации и намёка на разум, у тебя нет даже примерного понимания того, как надо общаться. Твой предел это пассивная агрессия через смайлики и поверхностные, зашоренные мнения о том, в чём ты ничего не понимаешь, потому что в твоей голове "потребление=знание". Запомни это.</p></li>
                            <li class="thisIsPastaSon">Абсолютно ни для кого не секрет [ non server ]<p>Абсолютно ни для кого не секрет, что большинство пользователей DTF идиоты, у которых мозг размером с монетку. Это токсичные школьники, либо прыщавые девственники неудачники, которые думают, что они смешные, но на самом деле нет. Смешными их делает только то, что они полнейшие деграданты, неспособные сложить 1 + 1. Если вы сидите на этом сайте, то скорее всего ваша жизнь ничтожна. Меня поразило какими тупыми и токсичными могут быть люди на этом сайте. Я никогда больше не зайду на помойку под названием DTF.</p></li>
                            <li class="thisIsPastaSon">Нет, это не расизм [ djostikk ]<p>Потому что вот такие комментарии у людей всё ещё считаются нормой? Потому что это меньшинство и их репрезентация важна для современного общества? Мир не стоит на месте и это нормально, просто не надо реагировать на это как на угнетение белых — это бред и расизм по отношению к ним невозможен.<br><br>Ты написал, что белого актёра якобы притесняют и это расизм. Я говорю, что это не так, так как расизма по отношению к белым не может существовать априори, так как они в большинстве изначально. Неужели так сложно понять простые вещи.</p></li>
                            <li class="thisIsPastaSon">Теории ВШЭ [ Уджин Крейн ]<p>Жаль такой талант пропадает, а ведь могли бы успешно работать на РенТВ и срать людям в уши своими теориями.Жду не дождусь какую теорию вы выдвинете в следующий раз. Первая ваша теория, ВШЭ, затем копипаст, теперь накрутка закладок, ахах, это же надо до такого додуматься.</p></li>
                            <li class="thisIsPastaSon">Я никакой не гуру [ Уджин Крейн ]<p>Я никакой не гуру, а вот ты судя по всему возомнил им себя. Я не прибегаю в каждую твою публикацию и не сру в комментариях, своими теориями, относительно происхождения статей, наличия в них души и накруток закладок. Не пишу у тебя в комментариях какие плохие статьи, а вот у меня потрясные. Я также с лёгкостью могу сказать, что твои публикации бездушные, абсолютно не оригинальные, коих в интернете полно, а вот мои ахрененные, как ты это подчёркиваешь чуть ли не в каждом своём комментарии. И это будет всего лишь моим мнением.Если у тебя от этого поднимается самоценка и таким образом ты самоутверждаешься, то можешь и дальше восхищаешься своими собственными публикациями в комментариях под моими статьями, мне не жалко и продолжай ставить дизлайки хоть до посинения.</p></li>
                            <li class="thisIsPastaSon">Зал славы видеоигр [ Cross Roads ]<p>Уважаемые диванные эксперты, перед тем как говорить о том, что игра вошла в мировую историю и внесла вклад в мировую культру, попробуйте сами подставить её под четыре критерия Зала Славы.<br><br>Боюсь вы быстро разочаруетесь.</p></li>
                            <li class="thisIsPastaSon">Понять и простить Вадима [ boogiepop ]<p>Человеки, пора бы заканчивать вот это вот, или вы до конца жизни планируете соревноваться в остроумной иронии по поводу непрофессиональной статьи Вадима? Ну ошибся человек, халатно подошел к вопросу, ну поругали все его в той статье, зачем это выносить на другие посты, да еще и в откровенно желчной форме? Да и материал он уже поправил давно.</p></li>
                            <li class="thisIsPastaSon">Норм пост [ Animaina ]<p>Человек норм пост накатал, получше много чего, а его местные в минус увели мгновенно. Вся суть ДТФ, 20 агрессивных токсиков сидят и уничтожают авторов.</p></li>
                            <li class="thisIsPastaSon">Вышел на улицу [ Бабай ]<p>Я только что вышел на улицу, нашел себе особу противоположного пола, прекратил совершать дурацкие покупки и завязал с мастурбацией, уволился с работы и сейчас начищу тебе ебало, чтобы доказать, что я жив.</p></li>
                            <li class="thisIsPastaSon">Ненависть к дтф [ К и с о г л а в я der Kitoglav ]<p>Рекомендую закрыть этот блог. Унылый, безвкусно подобранный контент для малолетних псевдоилитариев сайта дтф точка ру.<br><br>Если человек скучает по интернету, где на каждом шагу был шок контент, а люди были неспособны всерьез поговорить друг с другом и интернет был доступен только социально изолированным помешанным шизикам и программистам — он пойдет на форчан, а не сюда.<br><br>Админу видимо нравится плодить однообразные помойки с картинками с закосом под псевдоинтеллектуальный постироничный юмор и дофига жизненные картиночки для интернет траллей арнимешников, которые уже.</p></li>
                            <li class="thisIsPastaSon">Да что же с нами стало [ Бабай ]<p>Игры, они плохие стали, вот раньше делали, эээх. Сейчас одно дерьмо, проходняки: Ведьмак 3, Red Dead Redemption 2, Cyberpunk 2077. Разработчики-мрази не делают заставки в Hitman 2, это многое говорит о нашем обществе. Я не могу спокойно оставаться Gamer'ом, когда делают всякий ширпотреб по типу Prey и Deus Ex, как же тяжело жить в игровом индустриальном обществе... Задумались? Согласны? Видеоигры думают, что я тупой, надежды больше нет, только депрэссия и страдания... Узрите этот грустный геймерский момент.</p></li>
                            <li class="thisIsPastaSon">Жизнь стримера [ NightmareZ ]<p>Жаль, что вам не зашёл мой стрим. Я надеялся, что вы придёте хотя бы похейтить. Да и просто в прямом эфире пообщаться. Позадавали бы всякие каверзные вопросы и всё такое, как вы любите делать это в комментариях. Но, я так понимаю, вживую у вас жопа жим-жим делает. Ну да ладно, это ведь ваши половые проблемы, не мои. А суть вопроса такова. Задаю я его, конечно, нормальным людям, которые тут имеются. Что мне ещё постримить? Завтра выходит хитман 3, может его? Я в него ещё в жизни не играл, не уверен, что он мне зайдёт. С другой стороны, я сейчас активно рублюсь в призрака Цусимы, и не прочь бы постримить именно его. И я всё же призываю вас прийти и пообщаться, пацаны вы или твари дрожащие. Буду ждать, лол.</p></li>
                            <li class="thisIsPastaSon">Дружеский совет [ Le mort joyeux ]<p>Послушай чел, я на тебя подписан только 15 минут, мое ебало от кринжа просто разнесло. Ты вообще не умеешь шутить, постить, какой-то дёрганный и неуклюжий. Картинки кидаешь какие-то. Я вижу ты вообще книг не читал, в музеи не ходил - в общем ты явно далёк от высокой культуры. Я пожалуй дам тебе ещё шанс и зайду к тебе через час. Надеюсь ты учтёшь мои советы и изменишься к лучшему.</p></li>
                            <li class="thisIsPastaSon">Больше не живём в обществе [ Wonderful Semen ]<p>Нынешние тенденции на DTF оставляют желать лучшего. Смотрю на всё это и понимаю, моё время пришло. Пришло время уходить и оставить DTF в прошлом. У меня новая жизнь, новые цели и в будущем, для такого гнилого места, каким DFT стал в последнии дни, не найдётся времени и сил. Пришло время расстаться с вами мои дорогие щитпостеры, друзья и подписчики. Я ценю и никогда не забуду то, что вы все для меня сделали. Вы дали мне надежду. И с этой надеждой я отправляюсь в новый и неизведанный путь. Не знаю, что меня там ждёт, но... Было приятно иметь с вами дело.<br><br>Не хочу ничего говорить про редакцию, но если спросят, кто в этом виноват, кто виноват в моем уходе, то смело можете отвечать - Шериф и вышестоящие. Это они довели меня до такого состояния. Из-за них и только из-за них я разочаровался в этом обществе, разочаровался в DTF.<br><br>Простите меня за все мои грехи и будьте счастливы. Спасибо, что были со мной в трудную минуту и поддерживали меня как могли. Я должен двигаться вперёд, но без вас... без балласта вроде DTF. Прощайте.<br><br>До завтра.</p></li>
                            <li class="thisIsPastaSon">Фурики [ К и с о г л а в я der Kitoglav ]<p>Да, мы фурики все геи~~ (´ω｀*), я сам трап uwu и люблю накаченных волков♥w♥</p></li>
                            <li class="thisIsPastaSon">Рофло-оскорбления [ Олег Чимде ]<p>Когда эти рофло-оскорбления идут на активных пользователей сайта и редакцию - это в чем-то смешно. Данный человек - это другой случай. Он здесь гость не частый, но всегда желанный, вот только из-за таких постов он может еще реже начать заходить сюда.</p></li>
                            <li class="thisIsPastaSon">Как же хорошо после прочтения [ USERNAME ]<p>Как же хорошо после прочтения очередной книги зайти на ДТФ и поглумиться над плебеями, у которых единственный смысл жизни это срачи. Вы в этом не виноваты, кому-то повезло больше со вкусом, кому-то меньше. Вы конечно можете продолжать этим заниматься, только потом не удивляйтесь, когда я окачу лужой вас на своём автомобиле, и не замечу, потому что, во-первых: на плебеев не смотрю, во-вторых: хочу как можно быстрей приехать в театр на свою любимую пьесу «Танец дели».</p></li>
                            <li class="thisIsPastaSon">Игроки [ Дмитрий Титов ]<p>Игроки делятся на тех, для кого гейминг это по большей части симуляция, тех для кого он искусство и тех для кого он синергия обоих этих эффектов.</p></li>
                            <li class="thisIsPastaSon">ЛГБТ [ дамонлб ]<p>Вы спросите почему сейчас идет пропаганда ЛГБТ. А я вам отвечу. Потому что богатые любят ебаться в жопу. А у нас капитализм и тот у кого деньги, тот и строит политику.<br><br>Не нравится, станьте вы богатым и толкайте другую политику. Но правда есть одно но, людям обладающим такими средствами как-то глубоко посрать кто куда ебеться. И уж точно капиталистическое государство не заинтересовано в том, чтобы думать о том, чтобы вы плодились и все такое. Оно было заинтересовано в этом до изобретения атомной бомбы. Теперь же у нас перенаселение, и богатые заинтересованы снижать популяцию.</p></li>
                            <li class="thisIsPastaSon">Токсичность [ Leo_Refantasy ]<p>Немного пофлудил в комментах с обсуждением и укрепился во мнении о том, что от комментов ДТФ лучше держаться подальше. Во-первых пожирают чудовищное количество времени, во-вторых зашкаливающая токсичность и агрессивность. Вроде бы интересная тема, и люди интересной информацией то и дело обмениваются, но при этом такое вот жесткое неприятие того, что человеку может не понравиться твоя любимая игра. Оскорбление, колометательство, агрессия - все на месте.<br><br>Самое противное, что люди в этом настолько погрязли, что даже не замечают этого всего. Перерыв и долгий отдых от комьюнити в этом плане хорошо так глаза и голову прочищает.</p></li>
                            <li class="thisIsPastaSon">Маленькая карма [ Infinity Space ]<p>Самый надёжный способ это создать новую учетку. Это я точно знаю. И ещё. У вас тут в дтф такие злые люди. Они мне весь акк засрали дизами. Обидно. Я всего лишь задал вопрос по игре так как ещё ее не до конца прошел. Я наверное больше не буду посещать этот сайт. Уж больно здесь люди злые😢 я даже не могу лайкать комменты. За что со мной так😂 Пишет "Слишком маленькая карма" чё за херня?</p></li>
                            <li class="thisIsPastaSon">. [ Nikita Semenov ]<p>.</p></li>
                        </ol>
                    </div>
                    <div class="" id="memeList" style="display:none;">
`;
for (var i = 1; i < 37; i++) {
    popupListOfPasta += '<img src="https://github.com/KekWCatra/DTFMemeApp/raw/main/memedtf/'+i+'.jpg">';
}
popupListOfPasta += `<input type="text" name="link" placeholder="Ссылка" air-change="comments_attach_service" autofocus="" style="display:none;">
                    </div>
				</div>
			</div>
		</div>
	</div>
</div>
`;

function pastaSearch(e)
{
    let searchWords = searchPasta.value.toLowerCase();

    let allMyPasta = document.querySelectorAll('.thisIsPastaSon');

    allMyPasta.forEach(function(elem) {
        if (elem.innerText.toLowerCase().indexOf(searchWords) != -1) {
            elem.style.display = "block";
            if (document.getElementById('notPasta')) {
                document.getElementById('notPasta').remove();
            }
        } else {
            elem.style.display = "none";
        }
    });

    if (document.querySelectorAll('.thisIsPastaSon[style*="block"]').length == 0) {
        let htmlList = document.getElementById('pastaOlList').innerHTML;
        document.getElementById('pastaOlList').innerHTML = htmlList + `<button id="notPasta" class="ui-button ui-button--4" style="cursor: default!important;">Пасты не найдено :с</button>`;
    }
}

function popupPasta()
{
    body.insertAdjacentHTML('beforeend', popupListOfPasta);

    let closePopup = document.getElementById('_kekw_close_dtf_popup_pasta');
    closePopup.addEventListener('click', function (event) {
        document.getElementById('_kekw_popup_pasta').remove();
    });

    document.getElementById('showPasta').onclick = function() {
        document.getElementById('pastaOlList').style.display = "block";
        document.getElementById('memeList').style.display = "none";
    };

    document.getElementById('showMeme').onclick = function() {
        document.getElementById('memeList').style.display = "block";
        document.getElementById('pastaOlList').style.display = "none";
    };

    let allMyMemes = document.querySelectorAll('#memeList > img');
    allMyMemes.forEach(function(elem) {
        elem.addEventListener('click', function() {
            if (document.getElementsByClassName('thesis--empty')[0]) {
                document.getElementsByClassName('thesis--empty')[0].classList.remove('thesis--empty');
            }

            document.querySelector('input[name="link"]').value = elem.getAttribute("src");
            let event = new Event('input', {
                bubbles: true,
                cancelable: true,
            });
            document.querySelector('input[name="link"]').dispatchEvent(event);
            document.getElementById('_kekw_popup_pasta').remove();
        });
    });

    let allMyPasta = document.querySelectorAll('.thisIsPastaSon');

    searchPasta.onkeyup = pastaSearch;

    allMyPasta.forEach(function(elem) {
        elem.addEventListener('click', function() {
            if (document.getElementsByClassName('thesis--empty')[0]) {
                document.getElementsByClassName('thesis--empty')[0].classList.remove('thesis--empty');
            }
            document.getElementsByClassName('content_editable')[0].innerHTML = elem.querySelectorAll('p')[0].innerHTML;
            document.getElementById('_kekw_popup_pasta').remove();
        });
    });
}


function addPastaButton()
{
    let target = document.querySelector('.thesis__upload_file');

    if (target) {
        let divButton = document.createElement('div');

        divButton.onclick = popupPasta;

        divButton.className = 'thesis__upload_file thesis__attach_something';
        divButton.innerHTML = `✎`;
        divButton.id = 'pastaGoodPasta';
        target.insertAdjacentElement('beforebegin', divButton);
    }

    if (!document.getElementById("pastaGoodPasta")) {
        setTimeout(addPastaButton, 500);
    }
}

addPastaButton();
